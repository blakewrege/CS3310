import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;

public class DrivingApp {
	public static void main(String[] args) throws IOException {

		RawData input = new RawData("CityPairs.csv");
		Map map = new Map();
		Route route = new Route();
		Log output = new Log();
		output.displayBrk();

		while (input.input1Country()) // loop through the end of the file
		{
			if (input.getLine().contains("%") == false) {
				String[] cities = input.getLine().split(",");
				short city1Number = map.getCityNumber(cities[0]);
				short city2Number = map.getCityNumber(cities[1]);
				output.displayThis(
						String.format("%s (%d) TO %s (%d) \n", cities[0], city1Number, cities[1], city2Number));

				if (city1Number < 0 || city2Number < 0) {
					output.displayThis("ERROR - one city is NOT on this map \n\n");
				} else {
					route.findMinCostPath(city1Number, city2Number, map.getN(), map, output);
				}
				output.displayBrk();
			}
		}
		reader.close();
		output.finishUp();
		//
		// BufferedReader reader = new BufferedReader(new
		// FileReader("CityPairs.csv"));
		//
		// output.displayBrk();
		//
		// String line = null;
		// while ((line = reader.readLine()) != null) {
		// // Make sure this is not a comment.
		// if (!line.startsWith("%")) {
		// String[] cities = line.split(",");
		// // ask Map's method to getCityNumber for the 2 cities' names
		// // (separately)
		// short city1Number = map.getCityNumber(cities[0]);
		// short city2Number = map.getCityNumber(cities[1]);
		//
		// output.displayThis(
		// String.format("%s (%d) TO %s (%d) \n", cities[0], city1Number,
		// cities[1], city2Number));
		//
		// // Make sure the cities exist
		// if (city1Number < 0 || city2Number < 0) {
		// output.displayThis("ERROR - one city is NOT on this map \n\n");
		// } else {
		// // ask Route's method to findMinCostPath (given above 2 city
		// // NUMBERS)
		// route.findMinCostPath(city1Number, city2Number, map.getN(), map,
		// output);
		// }
		//
		// output.displayBrk();
		// }
		// }
		//
		// reader.close();
		// output.finishUp();
	}
}
